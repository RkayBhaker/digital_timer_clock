<html>
<head>
	<title>Timer</title>
	<meta charset="utf-8">
	<link rel="icon" href="meta_img.jpg">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src='https://kit.fontawesome.com/a076d05399.js'></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="clock.css">
</head>
<body>
	<div class="container-fluid">
	<fieldset>
		<button id="device_btn1" disabled></button>
		<p id="device_sound_part"></p>
		<div id="next_layer">
		<!--<h1>Timer</h1>-->
		<div class="row devices_cont">
			<div class="col up_menu_cont">
				<ul>
					<li>
						<h6 id="home_time" data-toggle="tooltip" data-placement="bottom" title=""></h6>
					</li>
					<li>
						<h6><i id="home_battary" class='fa fa-battery-full'></i></h6>
					</li>
					<li>
						<h6><i id="home_wifi" class="fas fa-wifi"></i></h6>
					</li>
				</ul>
			</div>
			<div class="col time_cont">
				<div id="time">
					<!--<img src="img1.png" width="150px;">-->
					<span id="txt1">let's</span><br><span id="txt2">Start</span><br><span id="txt3">Now</span>
				</div>
			</div>
			<div class="col imput_count">
				<input type="number" name="hour" id="hour" placeholder="Hour" min="0" max="12">
				<input type="number" name="minutes" id="min" placeholder="Minute" min="0" max="59">
				<input type="number" name="seconds" id="sec" placeholder="Second" min="0" max="60"><br>
			</div>
		</div>
</div>
	<div class="row text_cont">
		<div class="col">
			<i id="tag">*Powered by IBM. #RAKESH ADIT-IBM</i>
		</div>
		<div class="col">
		<a id="device_btn2" onclick="myfun();"></a>
		</div>
	</div>
	</fieldset>
</div>
<script type="text/javascript">
function myfun() {
	var user_input_hour = document.getElementById('hour').value;
	var user_input_min = document.getElementById('min').value;
	var user_input_sec = document.getElementById('sec').value;
	var output = document.getElementById('time');
	output.innerHTML="";
	var hidden_img = ['img2.jpg'];
	var img = '<img src="'+ hidden_img[0] +'" width="90px">';
	user_sec_input = user_input_sec * 1000;
	user_min_input = user_input_min * 60000;
	user_hour_input = user_input_hour * 3.6e+6;
	var Current_time = new Date().getTime();
	var User_time = Current_time+user_sec_input+user_min_input+user_hour_input;
		var x = setInterval(function (){
			var Actual_time = new Date().getTime();
			var Remain_time = User_time-Actual_time;
			var hours = Math.floor((Remain_time % (1000*60*60*24))/(1000*60*60));
			var minutes = Math.floor((Remain_time % (1000*60*60))/(1000*60));
			var seconds = Math.floor((Remain_time % (1000*60))/1000);
			document.getElementById('time').innerHTML = "Time Remaining <br>"+ hours +" h "+ minutes +" m "+ seconds +" s ";
			document.getElementById('time').style.padding="65px 0px 0px 0px";
			if (Remain_time < 0) {
				clearInterval(x);
				alert("Your Time is out!");
				function play() {
					var sound1 = new Audio('nokia.mp3');
					sound1.play();
				}
				var time_expr_msg = "Expired";
				document.getElementById('time').innerHTML=time_expr_msg;
				document.getElementById('time').style.padding="65px 0px 0px 0px";
				setTimeout(function(){
					location.reload();
				}, 5000);
			}
		}, 1000);
		var colors = ['red', 'green', 'blue', 'orange', 'yellow', 'chocolate', 'aqua', 'olive', 'lime','pink', 'black', 'white'];
		var active = 0;
		setInterval(function(){
			document.getElementById('time').style.borderColor= colors[active];
			active++;
			if(active==colors.length) active=0;
		}, 1000);
		}
		x = setInterval(function (){
			Home_time=new Date();
			var hours = Home_time.getHours();
			var minutes = Home_time.getMinutes();
			var seconds = Home_time.getSeconds();
			if( hours >= 0 && hours <= 12){
				time_meridiem = "AM";
				document.getElementById('home_time').innerHTML= hours+ " : "+minutes+" "+
				time_meridiem;
				$(document).ready(function(){
				var home_time_title = document.getElementById('home_time').type;
				document.getElementById('home_time').title=home_time_title;
				document.getElementById('home_time').setAttribute('title', hours+" : "+minutes+" : "+	seconds+" "+time_meridiem);
				});
			}else if ( hours > 12 && hours <= 24){
				time_meridiem = "PM";
				document.getElementById('home_time').innerHTML= hours+ " : "+minutes+" "+time_meridiem;
					$(document).ready(function(){

				var home_time_title = document.getElementById('home_time').type;
				document.getElementById('home_time').title=home_time_title;
				document.getElementById('home_time').setAttribute('title', hours+" : "+minutes+" : "+	seconds+" "+time_meridiem);
			});
			}else{
				alert("errors");
			}
		}, 1000);
</script>
</body>
</html>